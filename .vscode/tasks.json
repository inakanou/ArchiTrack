{
  // ============================================================================
  // VS Code ã‚¿ã‚¹ã‚¯è¨­å®š
  // ============================================================================
  // è¨­è¨ˆæ–¹é‡:
  // - IDEæ‹¡å¼µæ©Ÿèƒ½ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ: Vitest Explorer / Playwright Test ã§å®Ÿè¡Œå¯èƒ½ãªã‚‚ã®ã¯ã‚¿ã‚¹ã‚¯åŒ–ã—ãªã„
  // - ä¸¦åˆ—å®Ÿè¡Œ: é™çš„è§£æãƒ»ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆã¯å¯èƒ½ãªé™ã‚Šä¸¦åˆ—å®Ÿè¡Œ
  // - é‡è¤‡æ’é™¤: å€‹åˆ¥ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç‰ˆã¨å…¨ä½“ç‰ˆã®å†—é•·ãªå®šç¾©ã‚’æ’é™¤
  // - CIæ•´åˆæ€§: ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œã‚’CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¨åŒç­‰ã®æ§‹æˆã«çµ±ä¸€
  // ============================================================================
  "version": "2.0.0",
  "tasks": [
    // ========================================================================
    // Docker ç’°å¢ƒç®¡ç†
    // ========================================================================
    {
      "label": "Docker: Dev Up",
      "type": "shell",
      "command": "npm",
      "args": ["run", "dev:docker"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "é–‹ç™ºç’°å¢ƒã®Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹• (ports: 3000/5173/5432/6379)"
    },
    {
      "label": "Docker: Dev Up (Debug)",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f", "docker-compose.yml",
        "-f", "docker-compose.dev.yml",
        "-f", "docker-compose.debug.yml",
        "--env-file", ".env.dev",
        "up", "-d"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "é–‹ç™ºç’°å¢ƒã‚’ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹• (debugger: 9229)"
    },
    {
      "label": "Docker: Dev Down",
      "type": "shell",
      "command": "npm",
      "args": ["run", "dev:docker:down"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "é–‹ç™ºç’°å¢ƒã®Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢"
    },
    {
      "label": "Docker: Test Up",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test:docker"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "ãƒ†ã‚¹ãƒˆç’°å¢ƒã®Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹• (ports: 3100/5174/5433/6380)"
    },
    {
      "label": "Docker: Test Down",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test:docker:down"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "ãƒ†ã‚¹ãƒˆç’°å¢ƒã®Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢"
    },
    {
      "label": "Docker: Ensure Test Ready",
      "type": "shell",
      "command": "${workspaceFolder}/scripts/ensure-docker-ready.sh",
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "showReuseMessage": false
      },
      "problemMatcher": [],
      "detail": "E2E/çµ±åˆãƒ†ã‚¹ãƒˆç”¨ã®Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ãƒ»æº–å‚™"
    },
    {
      "label": "Docker: Logs (Dev)",
      "type": "shell",
      "command": "npm",
      "args": ["run", "dev:docker:logs"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": [],
      "isBackground": true,
      "detail": "é–‹ç™ºç’°å¢ƒã®Dockerãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼"
    },
    {
      "label": "Docker: Logs (Test)",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test:docker:logs"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": [],
      "isBackground": true,
      "detail": "ãƒ†ã‚¹ãƒˆç’°å¢ƒã®Dockerãƒ­ã‚°ã‚’ãƒ•ã‚©ãƒ­ãƒ¼"
    },
    {
      "label": "Docker: Clean All",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "down", "--remove-orphans", "-v"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "å…¨Dockerã‚³ãƒ³ãƒ†ãƒŠã¨ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å‰Šé™¤"
    },

    // ========================================================================
    // é™çš„è§£æï¼ˆå…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä¸¦åˆ—å®Ÿè¡Œï¼‰
    // ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹: ç‹¬ç«‹ã—ãŸé™çš„è§£æã‚’ä¸¦åˆ—å®Ÿè¡Œã—ã¦å¾…ã¡æ™‚é–“ã‚’å‰Šæ¸›
    // ========================================================================
    {
      "label": "Check: Format (All)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "npm --prefix backend run format:check & npm --prefix frontend run format:check & npm run format:check & wait"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },
    {
      "label": "Check: Type (All)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "npm --prefix backend run type-check & npm --prefix frontend run type-check & npm run type-check & wait"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": ["$tsc"],
      "detail": "å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãƒã‚§ãƒƒã‚¯ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },
    {
      "label": "Check: Lint (All)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "npm --prefix backend run lint & npm --prefix frontend run lint & npm run lint & wait"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": ["$eslint-stylish"],
      "detail": "å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Lintãƒã‚§ãƒƒã‚¯ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },
    {
      "label": "Check: Security",
      "type": "shell",
      "command": "node",
      "args": ["scripts/security-audit.mjs", "--verbose"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ï¼ˆæœ¬ç•ªä¾å­˜ã®highä»¥ä¸Šã‚’ãƒ–ãƒ­ãƒƒã‚¯ï¼‰"
    },
    {
      "label": "Check: Static All (Parallel)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "echo 'ğŸ” Static Analysis (Format + Type + Lint) in parallel...' && (npm --prefix backend run format:check && npm --prefix backend run type-check && npm --prefix backend run lint) & (npm --prefix frontend run format:check && npm --prefix frontend run type-check && npm --prefix frontend run lint) & (npm run format:check && npm run type-check && npm run lint) & wait && echo 'âœ… All static checks passed!'"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "problemMatcher": ["$tsc", "$eslint-stylish"],
      "detail": "å…¨é™çš„è§£æã‚’ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ä¸¦åˆ—ã§å®Ÿè¡Œï¼ˆFormatâ†’Typeâ†’Lintï¼‰"
    },

    // ========================================================================
    // ãƒ“ãƒ«ãƒ‰ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰
    // ========================================================================
    {
      "label": "Build: Backend",
      "type": "shell",
      "command": "npm",
      "args": ["--prefix", "backend", "run", "build"],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": ["$tsc"],
      "detail": "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰"
    },
    {
      "label": "Build: Frontend",
      "type": "shell",
      "command": "npm",
      "args": ["--prefix", "frontend", "run", "build"],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": ["$tsc"],
      "detail": "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰"
    },
    {
      "label": "Build: All (Parallel)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "npm --prefix backend run build & npm --prefix frontend run build & wait"
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": ["$tsc"],
      "detail": "å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },

    // ========================================================================
    // å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ»ä¸¦åˆ—å®Ÿè¡Œï¼‰
    // å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«/ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¯Vitest Exploreræ‹¡å¼µæ©Ÿèƒ½ã‚’æ¨å¥¨
    // ========================================================================
    {
      "label": "Test: All Unit (Coverage + Parallel)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "PRE_PUSH=true npm --prefix backend run test:unit:coverage & PRE_PUSH=true npm --prefix frontend run test:coverage & wait"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "å…¨å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸ + CIåŒç­‰ä¸¦åˆ—å®Ÿè¡Œã€ãƒ•ã‚©ãƒ¼ã‚¯æ•°=2ï¼‰"
    },
    {
      "label": "Test: Backend Unit (Coverage)",
      "type": "shell",
      "command": "bash",
      "args": ["-c", "PRE_PUSH=true npm --prefix backend run test:unit:coverage"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸ + ä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },
    {
      "label": "Test: Frontend Unit (Coverage)",
      "type": "shell",
      "command": "bash",
      "args": ["-c", "PRE_PUSH=true npm --prefix frontend run test:coverage"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸ + ä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },

    // ========================================================================
    // çµ±åˆãƒ†ã‚¹ãƒˆ
    // ========================================================================
    {
      "label": "Test: Backend Integration",
      "type": "shell",
      "command": "docker",
      "args": [
        "exec", "-e", "NODE_ENV=test",
        "architrack-backend-test",
        "npm", "run", "test:integration"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "dependsOn": ["Docker: Ensure Test Ready"],
      "problemMatcher": [],
      "detail": "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆDockerç’°å¢ƒï¼‰"
    },

    // ========================================================================
    // Storybook
    // ========================================================================
    {
      "label": "Test: Storybook",
      "type": "shell",
      "command": "npm",
      "args": ["--prefix", "frontend", "run", "test-storybook:ci"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "Storybookã®å¯¾è©±ãƒ†ã‚¹ãƒˆ"
    },
    {
      "label": "Test: Storybook Coverage",
      "type": "shell",
      "command": "npm",
      "args": ["--prefix", "frontend", "run", "storybook:coverage"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "Storybookã®ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒã‚§ãƒƒã‚¯ï¼ˆ80%é–¾å€¤ï¼‰"
    },

    // ========================================================================
    // E2Eãƒ†ã‚¹ãƒˆ
    // å€‹åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«/ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¯Playwright Testæ‹¡å¼µæ©Ÿèƒ½ã‚’æ¨å¥¨
    // ========================================================================
    {
      "label": "Test: Requirement Coverage",
      "type": "shell",
      "command": "npm",
      "args": ["run", "check:req-coverage"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "E2Eãƒ†ã‚¹ãƒˆã®è¦ä»¶ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒã‚§ãƒƒã‚¯"
    },
    {
      "label": "Test: E2E (Headless)",
      "type": "shell",
      "command": "npm",
      "args": ["run", "test:e2e"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "dependsOn": ["Docker: Ensure Test Ready"],
      "problemMatcher": [],
      "detail": "E2Eãƒ†ã‚¹ãƒˆå…¨ä»¶ï¼ˆãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ï¼‰"
    },

    // ========================================================================
    // è‡ªå‹•ä¿®æ­£ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰
    // ========================================================================
    {
      "label": "Fix: Format (All)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "npm --prefix backend run format & npm --prefix frontend run format & npm run format & wait"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": [],
      "detail": "å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè‡ªå‹•ä¿®æ­£ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },
    {
      "label": "Fix: Lint (All)",
      "type": "shell",
      "command": "bash",
      "args": [
        "-c",
        "npm --prefix backend run lint:fix & npm --prefix frontend run lint:fix & npm run lint:fix & wait"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": ["$eslint-stylish"],
      "detail": "å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Lintè‡ªå‹•ä¿®æ­£ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰"
    },

    // ========================================================================
    // Pre-Push ãƒã‚§ãƒƒã‚¯ï¼ˆGit Hookç›¸å½“ãƒ»CIæ•´åˆï¼‰
    // ========================================================================
    {
      "label": "Pre-Push: Full Checks",
      "type": "shell",
      "command": "bash",
      "args": ["-c", "echo '' | bash .husky/scripts/pre-push.sh"],
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "problemMatcher": [],
      "detail": "Git Pre-Push Hookç›¸å½“ã®å…¨ãƒã‚§ãƒƒã‚¯ï¼ˆä¸¦åˆ—å®Ÿè¡Œã€ãƒ­ã‚°: .logs/pre-push-*.logï¼‰"
    }
  ]
}
