# ArchiTrack Test Environment Configuration
# Usage: docker compose -f docker-compose.yml -f docker-compose.test.yml --env-file .env.test up
# Or: npm run test:docker
#
# Ports are offset from development environment:
#   Backend:    3100 (dev: 3000)
#   Frontend:   5174 (dev: 5173)
#   PostgreSQL: 5433 (dev: 5432)
#   Redis:      6380 (dev: 6379)
#
# Copy this file to .env.test and update the values:
#   cp .env.test.example .env.test

# Node Environment
NODE_ENV=test

# Database (Test) - Note: localhost port is 5433, but container internal is still 5432
DATABASE_URL=postgresql://postgres:test@localhost:5433/architrack_test

# Redis (Test) - Note: localhost port is 6380, using DB 1 for isolation
REDIS_URL=redis://localhost:6380/1

# Frontend URL (for CORS) - Test environment port
FRONTEND_URL=http://localhost:5174

# Vite API URL (for frontend) - Test environment port
VITE_API_URL=http://localhost:3100

# Logging
LOG_LEVEL=warn

# Test Settings
DISABLE_RATE_LIMIT=true

# JWT Keys (Ed25519)
# Generate new keys: npm --prefix backend run generate-keys
JWT_PUBLIC_KEY=<your-jwt-public-key-base64>
JWT_PRIVATE_KEY=<your-jwt-private-key-base64>

# Two-Factor Authentication Encryption Key (64 hex characters)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
TWO_FACTOR_ENCRYPTION_KEY=<your-64-char-hex-key>

# Initial Admin Account (for database seeding)
INITIAL_ADMIN_EMAIL=admin@example.com
INITIAL_ADMIN_PASSWORD=<your-secure-password>
INITIAL_ADMIN_DISPLAY_NAME=System Administrator
